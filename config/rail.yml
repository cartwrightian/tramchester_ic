server:
  applicationContextPath: /
  rootPath: /api/*
  applicationConnectors:
    - type: http
      port: 8080
  adminContextPath: /admin
  adminConnectors:
    - type: http
      port: 8081
  gzip:
    enabled: true
    bufferSize: 8KiB
    minimumEntitySize: 160B
secureHost: tramchester.com
staticAssetCacheTimeSeconds: 300
graphDBConfig:
  graphName: rail.db
  neo4jPagecacheMemory: 1000m
distributionBucket: tramchester2dist
instanceDataUrl: http://169.254.169.254
gtfsSourceConfig: []
rail:
  dataPath: data/rail
  version: 285
  modes: [ Train, RailReplacementBus ]
remoteSources:
  - name: rail
    dataURL: ${RAIL_DATAURL:-s3://tramchester2dist/railData/ttis285.zip}
    dataCheckURL: ""
    dataPath: data/rail
    filename: rail_data.zip
  - name: naptanxml
    dataURL: https://naptan.api.dft.gov.uk/v1/access-nodes?dataFormat=xml
    dataCheckURL: ""
    dataPath: data/naptan
    filename: ${NAPTAN_FILE:- NaPTAN.xml}
  - name: nptg
    dataURL: https://naptan.app.dft.gov.uk/datarequest/nptg.ashx?format=csv
    dataCheckURL: ""
    dataPath: data/nptg
    filename: nptgcsv.zip
openLdb:
  accessToken: ${OPENLDB_APIKEY:- ""}
  wsdlLocation: config/OpenLDBWS.wsdl
cacheFolder: data/cache/rail
calcTimeoutMillis: 3500
bounds:
  minEastings: 147588
  minNorthings: 30599
  maxEasting: 654747
  maxNorthings: 967921
planningEnabled: true
maxWait: 30
maxInitialWait: 25
numberQueries: 3
queryInterval: 20
maxNumberResults: 5
maxWalkingConnections: 3
maxJourneyDuration: 820
nearestStopRangeKM: 1.6
nearestStopForWalkingRangeKM: 1.6
numOfNearestStopsToOffer: 5
numOfNearestStopsForWalking: 3
walkingMPH: 3.0
recentStopsToShow: 5
dataExpiryThreadhold: 3
changeAtInterchangeOnly: true
sendCloudWatchMetrics: true
cloudWatchMetricsFrequencyMinutes: 2

swagger:
  resourcePackage: com.tramchester.resources
  title: tramchester

logging:
  level: INFO

  appenders:
    - type: console
      threshold: INFO
    - type: syslog
      host: localhost
      port: 514
      threshold: WARN
    - type: file
      currentLogFilename: logs/tramchester_rail.log
      threshold: INFO
      archive: true
      archivedLogFilenamePattern: logs/tramchester_rail-%d.log
      archivedFileCount: 5
      timeZone: UTC
